extends layout

block main
  h1= title
  div.byline
    - var pubdate = moment(publishDate).format("YYYY-MM-DD")
    - var moddate =  moment(modifyDate).format("YYYY-MM-DD")
    time(datetime='#{pubdate}') #{pubdate}
    if modifyDate && moment(publishDate).isBefore(modifyDate)
      |  (updated #[time(datetime='#{moddate}') #{moddate}])
    | 
    address by #[a(href='mailto:#{email}') #{author}]
  div.content!= contents

  //-
    Disqus setup and configuration. Admin and documentation URLs are:
    https://configurationiscode.disqus.com/admin/
    https://configurationiscode.disqus.com/admin/universalcode/
    Todo: Comment count; see docs link above

  div#disqus_thread

  script.
    // XXX Set these variables properly before we turn this on
    var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
  // script.
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://configurationiscode.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
